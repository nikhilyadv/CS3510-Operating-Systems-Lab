0: PUSH BP
1: 
2: MOV BP,
3: SP
4: MOV R1,
5: 6
6: MOV R0,
7: BP
8: SUB R0,
9: R1
10: MOV R0,
11: [R0]
12: MOV R5,
13: R0
14: MOV R1,
15: R0
16: MOV R2,
17: "Alloc"
18: EQ R1,
19: R2
20: JZ R1,
21: 42
22: MOV R0,
23: [2040]
24: MOV R1,
25: [R0]
26: MOV [2040],
27: R1
28: MOV R1,
29: BP
30: MOV R2,
31: 2
32: SUB R1,
33: R2
34: MOV [R1],
35: R0
36: MOV BP,
37: [SP]
38: POP R0
39: 
40: RET
41: 
42: MOV R1,
43: R5
44: MOV R2,
45: "Free"
46: EQ R1,
47: R2
48: JZ R1,
49: 70
50: MOV R0,
51: 5
52: MOV R1,
53: BP
54: SUB R1,
55: R0
56: MOV R0,
57: [R1]
58: MOV R1,
59: [2040]
60: MOV [2040],
61: R0
62: MOV [R0],
63: R1
64: MOV BP,
65: [SP]
66: POP R0
67: 
68: RET
69: 
70: MOV R1,
71: R5
72: MOV R2,
73: "Heapset"
74: EQ R1,
75: R2
76: JZ R1,
77: 406
78: MOV R0,
79: 1024
80: MOV R1,
81: 1
82: MOV [R0],
83: -1
84: ADD R0,
85: R1
86: MOV R2,
87: 2047
88: GE R2,
89: R0
90: JZ R2,
91: 94
92: JMP 82
93: 
94: MOV R0,
95: 1024
96: MOV R1,
97: 1032
98: MOV R3,
99: 8
100: MOV [R0],
101: R1
102: ADD R1,
103: R3
104: ADD R0,
105: R3
106: MOV R2,
107: 2047
108: GE R2,
109: R0
110: JZ R2,
111: 114
112: JMP 100
113: 
114: MOV [2032],
115: -1
116: MOV [2040],
117: 1024
118: MOV BP,
119: [SP]
120: POP R0
121: 
122: RET
123: 
124: MOV R0,
125: R7
126: PUSH R0
127: 
128: MOV R1,
129: BP
130: MOV R0,
131: 5
132: SUB R1,
133: R0
134: MOV R0,
135: [R1]
136: PUSH R0
137: 
138: ADD R1,
139: 1
140: MOV R0,
141: [R1]
142: PUSH R0
143: 
144: ADD R1,
145: 1
146: MOV R0,
147: [R1]
148: PUSH R0
149: 
150: PUSH R0
151: 
152: MOV R1,
153: R5
154: MOV R0,
155: "Create"
156: EQ R0,
157: R1
158: JNZ R0,
159: 316
160: MOV R0,
161: "Delete"
162: EQ R0,
163: R1
164: JNZ R0,
165: 316
166: MOV R0,
167: "Seek"
168: EQ R0,
169: R1
170: JNZ R0,
171: 320
172: MOV R0,
173: "Open"
174: EQ R0,
175: R1
176: JNZ R0,
177: 320
178: MOV R0,
179: "Close"
180: EQ R0,
181: R1
182: JNZ R0,
183: 320
184: MOV R0,
185: "Read"
186: EQ R0,
187: R1
188: JNZ R0,
189: 324
190: MOV R0,
191: "Write"
192: EQ R0,
193: R1
194: JNZ R0,
195: 328
196: MOV R0,
197: "Fork"
198: EQ R0,
199: R1
200: JNZ R0,
201: 332
202: MOV R0,
203: "Exec"
204: EQ R0,
205: R1
206: JNZ R0,
207: 336
208: MOV R0,
209: "Exit"
210: EQ R0,
211: R1
212: JNZ R0,
213: 340
214: MOV R0,
215: "Getpid"
216: EQ R0,
217: R1
218: JNZ R0,
219: 344
220: MOV R0,
221: "Getppid"
222: EQ R0,
223: R1
224: JNZ R0,
225: 344
226: MOV R0,
227: "Wait"
228: EQ R0,
229: R1
230: JNZ R0,
231: 344
232: MOV R0,
233: "Signal"
234: EQ R0,
235: R1
236: JNZ R0,
237: 344
238: MOV R0,
239: "Logout"
240: EQ R0,
241: R1
242: JNZ R0,
243: 348
244: MOV R0,
245: "Semget"
246: EQ R0,
247: R1
248: JNZ R0,
249: 352
250: MOV R0,
251: "Semrelease"
252: EQ R0,
253: R1
254: JNZ R0,
255: 352
256: MOV R0,
257: "SemLock"
258: EQ R0,
259: R1
260: JNZ R0,
261: 356
262: MOV R0,
263: "SemUnLock"
264: EQ R0,
265: R1
266: JNZ R0,
267: 356
268: MOV R0,
269: "Shutdown"
270: EQ R0,
271: R1
272: JNZ R0,
273: 360
274: MOV R0,
275: "Newusr"
276: EQ R0,
277: R1
278: JNZ R0,
279: 364
280: MOV R0,
281: "Remusr"
282: EQ R0,
283: R1
284: JNZ R0,
285: 364
286: MOV R0,
287: "Setpwd"
288: EQ R0,
289: R1
290: JNZ R0,
291: 364
292: MOV R0,
293: "Getuname"
294: EQ R0,
295: R1
296: JNZ R0,
297: 364
298: MOV R0,
299: "Getuid"
300: EQ R0,
301: R1
302: JNZ R0,
303: 364
304: MOV R0,
305: "Login"
306: EQ R0,
307: R1
308: JNZ R0,
309: 368
310: MOV R0,
311: "Test"
312: EQ R0,
313: R1
314: JNZ R0,
315: 372
316: INT 4
317: 
318: JMP 374
319: 
320: INT 5
321: 
322: JMP 374
323: 
324: INT 6
325: 
326: JMP 374
327: 
328: INT 7
329: 
330: JMP 374
331: 
332: INT 8
333: 
334: JMP 374
335: 
336: INT 9
337: 
338: JMP 374
339: 
340: INT 10
341: 
342: JMP 374
343: 
344: INT 11
345: 
346: JMP 374
347: 
348: INT 12
349: 
350: JMP 374
351: 
352: INT 13
353: 
354: JMP 374
355: 
356: INT 14
357: 
358: JMP 374
359: 
360: INT 15
361: 
362: JMP 374
363: 
364: INT 16
365: 
366: JMP 374
367: 
368: INT 17
369: 
370: JMP 374
371: 
372: INT 18
373: 
374: MOV R1,
375: BP
376: MOV R0,
377: 5
378: ADD R1,
379: R0
380: MOV R2,
381: BP
382: MOV R0,
383: 2
384: SUB R2,
385: R0
386: MOV R3,
387: [R1]
388: MOV [R2],
389: R3
390: POP R0
391: 
392: POP R0
393: 
394: POP R0
395: 
396: POP R0
397: 
398: POP R0
399: 
400: MOV BP,
401: [SP]
402: POP R0
403: 
404: RET
405: 
406: MOV R1,
407: R5
408: MOV R2,
409: "Create"
410: EQ R1,
411: R2
412: JZ R1,
413: 418
414: MOV R7,
415: 1
416: JMP 124
417: 
418: MOV R1,
419: R5
420: MOV R2,
421: "Delete"
422: EQ R1,
423: R2
424: JZ R1,
425: 430
426: MOV R7,
427: 4
428: JMP 124
429: 
430: MOV R1,
431: R5
432: MOV R2,
433: "Seek"
434: EQ R1,
435: R2
436: JZ R1,
437: 442
438: MOV R7,
439: 6
440: JMP 124
441: 
442: MOV R1,
443: R5
444: MOV R2,
445: "Open"
446: EQ R1,
447: R2
448: JZ R1,
449: 454
450: MOV R7,
451: 2
452: JMP 124
453: 
454: MOV R1,
455: R5
456: MOV R2,
457: "Close"
458: EQ R1,
459: R2
460: JZ R1,
461: 466
462: MOV R7,
463: 3
464: JMP 124
465: 
466: MOV R1,
467: R5
468: MOV R2,
469: "Read"
470: EQ R1,
471: R2
472: JZ R1,
473: 478
474: MOV R7,
475: 7
476: JMP 124
477: 
478: MOV R1,
479: R5
480: MOV R2,
481: "Write"
482: EQ R1,
483: R2
484: JZ R1,
485: 490
486: MOV R7,
487: 5
488: JMP 124
489: 
490: MOV R1,
491: R5
492: MOV R2,
493: "Fork"
494: EQ R1,
495: R2
496: JZ R1,
497: 502
498: MOV R7,
499: 8
500: JMP 124
501: 
502: MOV R1,
503: R5
504: MOV R2,
505: "Exec"
506: EQ R1,
507: R2
508: JZ R1,
509: 514
510: MOV R7,
511: 9
